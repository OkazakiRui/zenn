---
title: "href ã‚’ä½¿ç”¨ã—ãªã„ Linkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ jsx-a11y ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆã®è§£æ±ºæ³•"
emoji: "ğŸ—¿"
type: "tech"
topics: ["eslint", "a11y"]
published: true
---

# æ¦‚è¦
ã‚ªãƒªã‚¸ãƒŠãƒ«ã®Linkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã€lintã‚’èµ°ã‚‰ã›ã‚‹ã¨hrefã¯å—ã‘å–ã‚‰ãªã„ã¯ãšã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒ `jsx-a11y/anchor-is-valid` ã‚¨ãƒ©ãƒ¼ã‚’åã„ãŸ

## å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰
```tsx:components/Link.tsx
import { VFC } from 'react';
import NextLink from 'next/link';
import { Button } from '@chakra-ui/react';

type Props = {
  url: string;
  label: string;
  selected?: boolean;
};
const Link: VFC<Props> = ({ url, label, selected = false }) => (
  <NextLink href={url} passHref>
    <Button as="a">
      {label}
    </Button>
  </NextLink>
);

export default Link;
```

```tsx:pages/index.tsx
import type { NextPage } from 'next';
import Link from 'components/Link';

const index: NextPage = () => (
  <Link url="http://example.com/" label="example" />
);

export default index;
```

## ã‚¨ãƒ©ãƒ¼
```bash
$ yarn lint
yarn run v1.22.17
$ eslint 'src/**/*.{js,jsx,ts,tsx}'

~~/src/pages/index.tsx
  27:13  error  The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md  jsx-a11y/anchor-is-valid

âœ– 1 problem (1 error, 0 warnings)

error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
```

## è§£æ±ºç­–
index.tsxã§èª­ã¿è¾¼ã‚“ã§ã„ã‚‹Linkã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åå‰ã‚’åˆ¥ã®åç§°ã«å¤‰æ›´ã—ãŸã‚‰æ²»ã£ãŸ

```diff tsx:pages/index.tsx
import type { NextPage } from 'next';
- import Link from 'components/Link';
+ import OriginalLink from 'components/Link';

const index: NextPage = () => (
-   <Link url="http://example.com/" label="example" />
+   <OriginalLink url="http://example.com/" label="example" />
);

export default index;
```

## åŸå› 
Link ã¨ã„ã†åç§°ã‚’ä½¿ç”¨ã™ã‚‹ã¨ESLintãŒaã‚¿ã‚°ã¨åˆ¤æ–­ã—ã€a11yã®ãƒ«ãƒ¼ãƒ«ã§å¼•ã£æ›ã‹ã‚Šã‚¨ãƒ©ãƒ¼ã‚’åãã¿ãŸã„ã§ã™ã€‚ï¼ˆ ãã‚‚ãã‚‚Linkã¨ã‹åå‰ç©ºé–“ãŒé‡è¤‡ã—ãã†ãªåå‰ã¯ã‚„ã‚ã¦ãŠã“ã†ã­ãƒ»ãƒ»ãƒ» ï¼‰

## å‚è€ƒ (eslint-plugin-jsx-a11y/src/rules/anchor-is-valid.js )
https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/566011b89d/src/rules/anchor-is-valid.js#L83

